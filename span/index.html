<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="File and span related types."><title>span - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../static.files/rustdoc-46132b98.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="span" data-themes="" data-resource-suffix="" data-rustdoc-version="1.85.0 (4d91de4e4 2025-02-17)" data-channel="1.85.0" data-search-js="search-75f5ac3e.js" data-settings-js="settings-0f613d39.js" ><script src="../static.files/storage-59e33391.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-5f194d8c.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-893ab5e7.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-044be391.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../span/index.html">span</a><span class="version">0.0.0</span></h2></div><div class="sidebar-elems"><ul class="block"><li><a id="all-types" href="all.html">All Items</a></li></ul><section id="rustdoc-toc"><h3><a href="#structs">Crate Items</a></h3><ul class="block"><li><a href="#structs" title="Structs">Structs</a></li><li><a href="#enums" title="Enums">Enums</a></li><li><a href="#constants" title="Constants">Constants</a></li><li><a href="#traits" title="Traits">Traits</a></li><li><a href="#types" title="Type Aliases">Type Aliases</a></li></ul></section><div id="rustdoc-modnav"></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1>Crate <span>span</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../src/span/lib.rs.html#1-440">Source</a> </span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>File and span related types.</p>
</div></details><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.AstIdMap.html" title="struct span::AstIdMap">AstId<wbr>Map</a></div><div class="desc docblock-short">Maps items’ <code>SyntaxNode</code>s to <code>ErasedFileAstId</code>s and back.</div></li><li><div class="item-name"><a class="struct" href="struct.EditionedFileId.html" title="struct span::EditionedFileId">Editioned<wbr>File<wbr>Id</a></div><div class="desc docblock-short">A <a href="struct.FileId.html" title="struct span::FileId"><code>FileId</code></a> and <a href="enum.Edition.html" title="enum span::Edition"><code>Edition</code></a> bundled up together.
The MSB is reserved for <code>HirFileId</code> encoding, more upper bits are used to then encode the edition.</div></li><li><div class="item-name"><a class="struct" href="struct.ErasedFileAstId.html" title="struct span::ErasedFileAstId">Erased<wbr>File<wbr>AstId</a></div><div class="desc docblock-short">See crates\hir-expand\src\ast_id_map.rs
This is a type erased FileAstId.</div></li><li><div class="item-name"><a class="struct" href="struct.FileAstId.html" title="struct span::FileAstId">File<wbr>AstId</a></div><div class="desc docblock-short"><code>AstId</code> points to an AST node in a specific file.</div></li><li><div class="item-name"><a class="struct" href="struct.FileId.html" title="struct span::FileId">FileId</a></div><div class="desc docblock-short">Handle to a file in [<code>Vfs</code>]</div></li><li><div class="item-name"><a class="struct" href="struct.HirFileId.html" title="struct span::HirFileId">HirFile<wbr>Id</a></div><div class="desc docblock-short">Input to the analyzer is a set of files, where each file is identified by
<code>FileId</code> and contains source code. However, another source of source code in
Rust are macros: each macro can be thought of as producing a “temporary
file”. To assign an id to such a file, we use the id of the macro call that
produced the file. So, a <code>HirFileId</code> is either a <code>FileId</code> (source code
written by user), or a <code>MacroCallId</code> (source code produced by macro).</div></li><li><div class="item-name"><a class="struct" href="struct.MacroCallId.html" title="struct span::MacroCallId">Macro<wbr>Call<wbr>Id</a></div><div class="desc docblock-short"><code>MacroCallId</code> identifies a particular macro invocation, like
<code>println!("Hello, {}", world)</code>.</div></li><li><div class="item-name"><a class="struct" href="struct.MacroFileId.html" title="struct span::MacroFileId">Macro<wbr>File<wbr>Id</a></div></li><li><div class="item-name"><a class="struct" href="struct.RealSpanMap.html" title="struct span::RealSpanMap">Real<wbr>Span<wbr>Map</a></div></li><li><div class="item-name"><a class="struct" href="struct.SpanAnchor.html" title="struct span::SpanAnchor">Span<wbr>Anchor</a></div></li><li><div class="item-name"><a class="struct" href="struct.SpanData.html" title="struct span::SpanData">Span<wbr>Data</a></div><div class="desc docblock-short">Spans represent a region of code, used by the IDE to be able link macro inputs and outputs
together. Positions in spans are relative to some <a href="struct.SpanAnchor.html" title="struct span::SpanAnchor"><code>SpanAnchor</code></a> to make them more incremental
friendly.</div></li><li><div class="item-name"><a class="struct" href="struct.SpanMap.html" title="struct span::SpanMap">SpanMap</a></div><div class="desc docblock-short">Maps absolute text ranges for the corresponding file to the relevant span data.</div></li><li><div class="item-name"><a class="struct" href="struct.SyntaxContextData.html" title="struct span::SyntaxContextData">Syntax<wbr>Context<wbr>Data</a></div><div class="desc docblock-short">A syntax context describes a hierarchy tracking order of macro definitions.</div></li><li><div class="item-name"><a class="struct" href="struct.SyntaxContextId.html" title="struct span::SyntaxContextId">Syntax<wbr>Context<wbr>Id</a></div><div class="desc docblock-short">Interned <a href="struct.SyntaxContextData.html" title="struct span::SyntaxContextData"><code>SyntaxContextData</code></a>.</div></li><li><div class="item-name"><a class="struct" href="struct.TextRange.html" title="struct span::TextRange">Text<wbr>Range</a></div><div class="desc docblock-short">A range in text, represented as a pair of <a href="struct.TextSize.html" title="struct span::TextSize"><code>TextSize</code></a>.</div></li><li><div class="item-name"><a class="struct" href="struct.TextSize.html" title="struct span::TextSize">Text<wbr>Size</a></div><div class="desc docblock-short">A measure of text length. Also, equivalently, an index into text.</div></li><li><div class="item-name"><a class="struct" href="struct.TokenId.html" title="struct span::TokenId">TokenId</a></div><div class="desc docblock-short">Legacy span type, only defined here as it is still used by the proc-macro server.
While rust-analyzer doesn’t use this anymore at all, RustRover relies on the legacy type for
proc-macro expansion.</div></li></ul><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.Edition.html" title="enum span::Edition">Edition</a></div></li><li><div class="item-name"><a class="enum" href="enum.HirFileIdRepr.html" title="enum span::HirFileIdRepr">HirFile<wbr>IdRepr</a></div></li><li><div class="item-name"><a class="enum" href="enum.Transparency.html" title="enum span::Transparency">Transparency</a></div><div class="desc docblock-short">A property of a macro expansion that determines how identifiers
produced by that expansion are resolved.</div></li></ul><h2 id="constants" class="section-header">Constants<a href="#constants" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="constant" href="constant.FIXUP_ERASED_FILE_AST_ID_MARKER.html" title="constant span::FIXUP_ERASED_FILE_AST_ID_MARKER">FIXUP_<wbr>ERASED_<wbr>FILE_<wbr>AST_<wbr>ID_<wbr>MARKER</a></div><div class="desc docblock-short">FileId used as the span for syntax node fixups. Any Span containing this file id is to be
considered fake.</div></li><li><div class="item-name"><a class="constant" href="constant.ROOT_ERASED_FILE_AST_ID.html" title="constant span::ROOT_ERASED_FILE_AST_ID">ROOT_<wbr>ERASED_<wbr>FILE_<wbr>AST_<wbr>ID</a></div><div class="desc docblock-short">The root ast id always points to the encompassing file, using this in spans is discouraged as
any range relative to it will be effectively absolute, ruining the entire point of anchored
relative text ranges.</div></li></ul><h2 id="traits" class="section-header">Traits<a href="#traits" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="trait" href="trait.AstIdNode.html" title="trait span::AstIdNode">AstId<wbr>Node</a></div></li></ul><h2 id="types" class="section-header">Type Aliases<a href="#types" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="type" href="type.Span.html" title="type span::Span">Span</a></div></li></ul></section></div></main></body></html>